     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_fifo32_init
     9 00000000                                 	EXTERN	_timer_alloc
    10 00000000                                 	EXTERN	_timer_init
    11 00000000                                 	EXTERN	_timer_settime
    12 00000000                                 	EXTERN	_file_readfat
    13 00000000                                 	EXTERN	_io_cli
    14 00000000                                 	EXTERN	_fifo32_status
    15 00000000                                 	EXTERN	_fifo32_get
    16 00000000                                 	EXTERN	_io_sti
    17 00000000                                 	EXTERN	_boxfill8
    18 00000000                                 	EXTERN	_sheet_refresh
    19 00000000                                 	EXTERN	_task_sleep
    20 00000000                                 	EXTERN	_putfonts8_asc_sht
    21 00000000                                 	EXTERN	_memman_total
    22 00000000                                 	EXTERN	_sprintf
    23 00000000                                 	EXTERN	_file_search
    24 00000000                                 	EXTERN	_file_loadfile
    25 00000000                                 	EXTERN	_memman_free_4k
    26 00000000                                 	EXTERN	_set_segmdesc
    27 00000000                                 	EXTERN	_farcall
    28 00000000                                 	EXTERN	_start_app
    29 00000000                                 	EXTERN	_sheet_free
    30 00000000                                 	EXTERN	_memman_free
    31 00000000                                 	EXTERN	_memman_alloc
    32 00000000                                 	EXTERN	_memman_init
    33 00000000                                 	EXTERN	_putfonts8_asc
    34 00000000                                 	EXTERN	_sheet_alloc
    35 00000000                                 	EXTERN	_sheet_setbuf
    36 00000000                                 	EXTERN	_make_window8
    37 00000000                                 	EXTERN	_sheet_slide
    38 00000000                                 	EXTERN	_sheet_updown
    39 00000000                                 [FILE "console.c"]
    40                                          [SECTION .text]
    41 00000000                                 	GLOBAL	_console_task
    42 00000000                                 _console_task:
    43 00000000 55                              	PUSH	EBP
    44 00000001 89 E5                           	MOV	EBP,ESP
    45 00000003 57                              	PUSH	EDI
    46 00000004 56                              	PUSH	ESI
    47 00000005 53                              	PUSH	EBX
    48 00000006 8D 9D FFFFFDE4                  	LEA	EBX,DWORD [-540+EBP]
    49 0000000C 81 EC 00000238                  	SUB	ESP,568
    50 00000012 E8 [00000000]                   	CALL	_task_now
    51 00000017 68 00002D00                     	PUSH	11520
    52 0000001C 68 003C0000                     	PUSH	3932160
    53 00000021 89 85 FFFFFDC0                  	MOV	DWORD [-576+EBP],EAX
    54 00000027 E8 [00000000]                   	CALL	_memman_alloc_4k
    55 0000002C 8B B5 FFFFFDC0                  	MOV	ESI,DWORD [-576+EBP]
    56 00000032 C7 85 FFFFFDE8 00000008         	MOV	DWORD [-536+EBP],8
    57 0000003C 89 85 FFFFFDBC                  	MOV	DWORD [-580+EBP],EAX
    58 00000042 83 C6 10                        	ADD	ESI,16
    59 00000045 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    60 00000048 89 85 FFFFFDE4                  	MOV	DWORD [-540+EBP],EAX
    61 0000004E 8D 85 FFFFFDF4                  	LEA	EAX,DWORD [-524+EBP]
    62 00000054 C7 85 FFFFFDEC 0000001C         	MOV	DWORD [-532+EBP],28
    63 0000005E C7 85 FFFFFDF0 FFFFFFFF         	MOV	DWORD [-528+EBP],-1
    64 00000068 89 1D 00000FEC                  	MOV	DWORD [4076],EBX
    65 0000006E FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
    66 00000074 50                              	PUSH	EAX
    67 00000075 68 00000080                     	PUSH	128
    68 0000007A 56                              	PUSH	ESI
    69 0000007B E8 [00000000]                   	CALL	_fifo32_init
    70 00000080 E8 [00000000]                   	CALL	_timer_alloc
    71 00000085 6A 01                           	PUSH	1
    72 00000087 56                              	PUSH	ESI
    73 00000088 89 C7                           	MOV	EDI,EAX
    74 0000008A 50                              	PUSH	EAX
    75 0000008B E8 [00000000]                   	CALL	_timer_init
    76 00000090 83 C4 24                        	ADD	ESP,36
    77 00000093 6A 32                           	PUSH	50
    78 00000095 57                              	PUSH	EDI
    79 00000096 E8 [00000000]                   	CALL	_timer_settime
    80 0000009B 68 00100200                     	PUSH	1049088
    81 000000A0 FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
    82 000000A6 E8 [00000000]                   	CALL	_file_readfat
    83 000000AB 6A 01                           	PUSH	1
    84 000000AD 6A 3E                           	PUSH	62
    85 000000AF 53                              	PUSH	EBX
    86 000000B0 E8 00000234                     	CALL	_cons_putchar
    87 000000B5 83 C4 1C                        	ADD	ESP,28
    88 000000B8                                 L2:
    89 000000B8 E8 [00000000]                   	CALL	_io_cli
    90 000000BD 8B 9D FFFFFDC0                  	MOV	EBX,DWORD [-576+EBP]
    91 000000C3 83 C3 10                        	ADD	EBX,16
    92 000000C6 53                              	PUSH	EBX
    93 000000C7 E8 [00000000]                   	CALL	_fifo32_status
    94 000000CC 5E                              	POP	ESI
    95 000000CD 85 C0                           	TEST	EAX,EAX
    96 000000CF 0F 84 000001FE                  	JE	L24
    97 000000D5 53                              	PUSH	EBX
    98 000000D6 E8 [00000000]                   	CALL	_fifo32_get
    99 000000DB 89 C6                           	MOV	ESI,EAX
   100 000000DD E8 [00000000]                   	CALL	_io_sti
   101 000000E2 59                              	POP	ECX
   102 000000E3 83 FE 01                        	CMP	ESI,1
   103 000000E6 0F 8E 00000194                  	JLE	L25
   104 000000EC                                 L7:
   105 000000EC 83 FE 02                        	CMP	ESI,2
   106 000000EF 0F 84 0000017C                  	JE	L26
   107 000000F5                                 L12:
   108 000000F5 83 FE 03                        	CMP	ESI,3
   109 000000F8 0F 84 00000136                  	JE	L27
   110 000000FE                                 L13:
   111 000000FE 8D 86 FFFFFF00                  	LEA	EAX,DWORD [-256+ESI]
   112 00000104 3D 000000FF                     	CMP	EAX,255
   113 00000109 77 52                           	JA	L14
   114 0000010B 81 FE 00000108                  	CMP	ESI,264
   115 00000111 0F 84 000000F4                  	JE	L28
   116 00000117 81 FE 0000010A                  	CMP	ESI,266
   117 0000011D 0F 84 00000097                  	JE	L29
   118 00000123 8B 8D FFFFFDE8                  	MOV	ECX,DWORD [-536+EBP]
   119 00000129 81 F9 000000EF                  	CMP	ECX,239
   120 0000012F 7F 2C                           	JG	L14
   121 00000131 89 C8                           	MOV	EAX,ECX
   122 00000133 BA 00000008                     	MOV	EDX,8
   123 00000138 89 D3                           	MOV	EBX,EDX
   124 0000013A 6A 01                           	PUSH	1
   125 0000013C 99                              	CDQ
   126 0000013D F7 FB                           	IDIV	EBX
   127 0000013F 89 C1                           	MOV	ECX,EAX
   128 00000141 89 F0                           	MOV	EAX,ESI
   129 00000143 88 84 0D FFFFFDC2               	MOV	BYTE [-574+EBP+ECX*1],AL
   130 0000014A 0F BE C0                        	MOVSX	EAX,AL
   131 0000014D 50                              	PUSH	EAX
   132 0000014E 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
   133 00000154 50                              	PUSH	EAX
   134 00000155                                 L22:
   135 00000155 E8 0000018F                     	CALL	_cons_putchar
   136 0000015A                                 L23:
   137 0000015A 83 C4 0C                        	ADD	ESP,12
   138 0000015D                                 L14:
   139 0000015D 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   140 00000164 78 2E                           	JS	L21
   141 00000166 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   142 0000016C 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   143 00000172 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   144 00000175 50                              	PUSH	EAX
   145 00000176 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   146 00000179 50                              	PUSH	EAX
   147 0000017A 51                              	PUSH	ECX
   148 0000017B 52                              	PUSH	EDX
   149 0000017C 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   150 0000017F 0F B6 85 FFFFFDF0               	MOVZX	EAX,BYTE [-528+EBP]
   151 00000186 50                              	PUSH	EAX
   152 00000187 FF 72 04                        	PUSH	DWORD [4+EDX]
   153 0000018A FF 32                           	PUSH	DWORD [EDX]
   154 0000018C E8 [00000000]                   	CALL	_boxfill8
   155 00000191 83 C4 1C                        	ADD	ESP,28
   156 00000194                                 L21:
   157 00000194 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   158 0000019A 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   159 000001A0 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   160 000001A3 50                              	PUSH	EAX
   161 000001A4 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   162 000001A7 50                              	PUSH	EAX
   163 000001A8 51                              	PUSH	ECX
   164 000001A9 52                              	PUSH	EDX
   165 000001AA FF 75 08                        	PUSH	DWORD [8+EBP]
   166 000001AD E8 [00000000]                   	CALL	_sheet_refresh
   167 000001B2 83 C4 14                        	ADD	ESP,20
   168 000001B5 E9 FFFFFEFE                     	JMP	L2
   169 000001BA                                 L29:
   170 000001BA 6A 00                           	PUSH	0
   171 000001BC 8D 9D FFFFFDE4                  	LEA	EBX,DWORD [-540+EBP]
   172 000001C2 6A 20                           	PUSH	32
   173 000001C4 53                              	PUSH	EBX
   174 000001C5 E8 0000011F                     	CALL	_cons_putchar
   175 000001CA 53                              	PUSH	EBX
   176 000001CB 8B 85 FFFFFDE8                  	MOV	EAX,DWORD [-536+EBP]
   177 000001D1 BA 00000008                     	MOV	EDX,8
   178 000001D6 89 D1                           	MOV	ECX,EDX
   179 000001D8 99                              	CDQ
   180 000001D9 F7 F9                           	IDIV	ECX
   181 000001DB C6 84 05 FFFFFDC2 00            	MOV	BYTE [-574+EBP+EAX*1],0
   182 000001E3 E8 000001A4                     	CALL	_cons_newline
   183 000001E8 8D 85 FFFFFDC4                  	LEA	EAX,DWORD [-572+EBP]
   184 000001EE FF 75 0C                        	PUSH	DWORD [12+EBP]
   185 000001F1 FF B5 FFFFFDBC                  	PUSH	DWORD [-580+EBP]
   186 000001F7 53                              	PUSH	EBX
   187 000001F8 50                              	PUSH	EAX
   188 000001F9 E8 000002AA                     	CALL	_cons_runcmd
   189 000001FE 83 C4 20                        	ADD	ESP,32
   190 00000201 6A 01                           	PUSH	1
   191 00000203 6A 3E                           	PUSH	62
   192 00000205 53                              	PUSH	EBX
   193 00000206 E9 FFFFFF4A                     	JMP	L22
   194 0000020B                                 L28:
   195 0000020B 83 BD FFFFFDE8 10               	CMP	DWORD [-536+EBP],16
   196 00000212 0F 8E FFFFFF45                  	JLE	L14
   197 00000218 6A 00                           	PUSH	0
   198 0000021A 8D 85 FFFFFDE4                  	LEA	EAX,DWORD [-540+EBP]
   199 00000220 6A 20                           	PUSH	32
   200 00000222 50                              	PUSH	EAX
   201 00000223 E8 000000C1                     	CALL	_cons_putchar
   202 00000228 83 AD FFFFFDE8 08               	SUB	DWORD [-536+EBP],8
   203 0000022F E9 FFFFFF26                     	JMP	L23
   204 00000234                                 L27:
   205 00000234 8B 8D FFFFFDEC                  	MOV	ECX,DWORD [-532+EBP]
   206 0000023A 8B 95 FFFFFDE8                  	MOV	EDX,DWORD [-536+EBP]
   207 00000240 C7 85 FFFFFDF0 FFFFFFFF         	MOV	DWORD [-528+EBP],-1
   208 0000024A 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   209 0000024D 50                              	PUSH	EAX
   210 0000024E 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   211 00000251 50                              	PUSH	EAX
   212 00000252 51                              	PUSH	ECX
   213 00000253 52                              	PUSH	EDX
   214 00000254 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   215 00000257 0F B6 85 FFFFFDF0               	MOVZX	EAX,BYTE [-528+EBP]
   216 0000025E 50                              	PUSH	EAX
   217 0000025F FF 72 04                        	PUSH	DWORD [4+EDX]
   218 00000262 FF 32                           	PUSH	DWORD [EDX]
   219 00000264 E8 [00000000]                   	CALL	_boxfill8
   220 00000269 83 C4 1C                        	ADD	ESP,28
   221 0000026C E9 FFFFFE8D                     	JMP	L13
   222 00000271                                 L26:
   223 00000271 C7 85 FFFFFDF0 00000007         	MOV	DWORD [-528+EBP],7
   224 0000027B E9 FFFFFE75                     	JMP	L12
   225 00000280                                 L25:
   226 00000280 85 F6                           	TEST	ESI,ESI
   227 00000282 74 2E                           	JE	L8
   228 00000284 6A 00                           	PUSH	0
   229 00000286 53                              	PUSH	EBX
   230 00000287 57                              	PUSH	EDI
   231 00000288 E8 [00000000]                   	CALL	_timer_init
   232 0000028D 83 C4 0C                        	ADD	ESP,12
   233 00000290 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   234 00000297 78 0A                           	JS	L10
   235 00000299 C7 85 FFFFFDF0 00000007         	MOV	DWORD [-528+EBP],7
   236 000002A3                                 L10:
   237 000002A3 6A 32                           	PUSH	50
   238 000002A5 57                              	PUSH	EDI
   239 000002A6 E8 [00000000]                   	CALL	_timer_settime
   240 000002AB 58                              	POP	EAX
   241 000002AC 5A                              	POP	EDX
   242 000002AD E9 FFFFFE3A                     	JMP	L7
   243 000002B2                                 L8:
   244 000002B2 6A 01                           	PUSH	1
   245 000002B4 53                              	PUSH	EBX
   246 000002B5 57                              	PUSH	EDI
   247 000002B6 E8 [00000000]                   	CALL	_timer_init
   248 000002BB 83 C4 0C                        	ADD	ESP,12
   249 000002BE 83 BD FFFFFDF0 00               	CMP	DWORD [-528+EBP],0
   250 000002C5 78 DC                           	JS	L10
   251 000002C7 C7 85 FFFFFDF0 00000000         	MOV	DWORD [-528+EBP],0
   252 000002D1 EB D0                           	JMP	L10
   253 000002D3                                 L24:
   254 000002D3 FF B5 FFFFFDC0                  	PUSH	DWORD [-576+EBP]
   255 000002D9 E8 [00000000]                   	CALL	_task_sleep
   256 000002DE E8 [00000000]                   	CALL	_io_sti
   257 000002E3 5B                              	POP	EBX
   258 000002E4 E9 FFFFFDCF                     	JMP	L2
   259                                          [SECTION .data]
   260 00000000                                 LC0:
   261 00000000 20 00                           	DB	" ",0x00
   262                                          [SECTION .text]
   263 000002E9                                 	GLOBAL	_cons_putchar
   264 000002E9                                 _cons_putchar:
   265 000002E9 55                              	PUSH	EBP
   266 000002EA 89 E5                           	MOV	EBP,ESP
   267 000002EC 53                              	PUSH	EBX
   268 000002ED 50                              	PUSH	EAX
   269 000002EE 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   270 000002F1 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   271 000002F4 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   272 000002F7 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   273 000002FA 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   274 000002FD 3C 09                           	CMP	AL,9
   275 000002FF C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   276 00000303 74 46                           	JE	L32
   277 00000305 3C 0A                           	CMP	AL,10
   278 00000307 74 39                           	JE	L44
   279 00000309 3C 0D                           	CMP	AL,13
   280 0000030B 74 30                           	JE	L30
   281 0000030D 6A 01                           	PUSH	1
   282 0000030F 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   283 00000312 50                              	PUSH	EAX
   284 00000313 6A 00                           	PUSH	0
   285 00000315 6A 07                           	PUSH	7
   286 00000317 FF 73 08                        	PUSH	DWORD [8+EBX]
   287 0000031A FF 73 04                        	PUSH	DWORD [4+EBX]
   288 0000031D FF 33                           	PUSH	DWORD [EBX]
   289 0000031F E8 [00000000]                   	CALL	_putfonts8_asc_sht
   290 00000324 83 C4 1C                        	ADD	ESP,28
   291 00000327 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   292 0000032B 74 10                           	JE	L30
   293 0000032D 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   294 00000330 83 C0 08                        	ADD	EAX,8
   295 00000333 89 43 04                        	MOV	DWORD [4+EBX],EAX
   296 00000336 3D 000000F8                     	CMP	EAX,248
   297 0000033B 74 05                           	JE	L44
   298 0000033D                                 L30:
   299 0000033D 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   300 00000340 C9                              	LEAVE
   301 00000341 C3                              	RET
   302 00000342                                 L44:
   303 00000342 53                              	PUSH	EBX
   304 00000343 E8 00000044                     	CALL	_cons_newline
   305 00000348 58                              	POP	EAX
   306 00000349 EB F2                           	JMP	L30
   307 0000034B                                 L32:
   308 0000034B 6A 01                           	PUSH	1
   309 0000034D 68 [00000000]                   	PUSH	LC0
   310 00000352 6A 00                           	PUSH	0
   311 00000354 6A 07                           	PUSH	7
   312 00000356 FF 73 08                        	PUSH	DWORD [8+EBX]
   313 00000359 FF 73 04                        	PUSH	DWORD [4+EBX]
   314 0000035C FF 33                           	PUSH	DWORD [EBX]
   315 0000035E E8 [00000000]                   	CALL	_putfonts8_asc_sht
   316 00000363 83 C4 1C                        	ADD	ESP,28
   317 00000366 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   318 00000369 83 C0 08                        	ADD	EAX,8
   319 0000036C 89 43 04                        	MOV	DWORD [4+EBX],EAX
   320 0000036F 3D 000000F8                     	CMP	EAX,248
   321 00000374 74 0D                           	JE	L45
   322 00000376                                 L35:
   323 00000376 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   324 00000379 83 E8 08                        	SUB	EAX,8
   325 0000037C 83 E0 1F                        	AND	EAX,31
   326 0000037F 75 CA                           	JNE	L32
   327 00000381 EB BA                           	JMP	L30
   328 00000383                                 L45:
   329 00000383 53                              	PUSH	EBX
   330 00000384 E8 00000003                     	CALL	_cons_newline
   331 00000389 58                              	POP	EAX
   332 0000038A EB EA                           	JMP	L35
   333 0000038C                                 	GLOBAL	_cons_newline
   334 0000038C                                 _cons_newline:
   335 0000038C 55                              	PUSH	EBP
   336 0000038D 89 E5                           	MOV	EBP,ESP
   337 0000038F 57                              	PUSH	EDI
   338 00000390 56                              	PUSH	ESI
   339 00000391 53                              	PUSH	EBX
   340 00000392 50                              	PUSH	EAX
   341 00000393 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   342 00000396 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   343 00000399 8B 00                           	MOV	EAX,DWORD [EAX]
   344 0000039B 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   345 0000039E 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   346 000003A1 3D 0000008B                     	CMP	EAX,139
   347 000003A6 7F 18                           	JG	L47
   348 000003A8 83 C0 10                        	ADD	EAX,16
   349 000003AB 89 42 08                        	MOV	DWORD [8+EDX],EAX
   350 000003AE                                 L48:
   351 000003AE 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   352 000003B1 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   353 000003B8 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   354 000003BB 5B                              	POP	EBX
   355 000003BC 5E                              	POP	ESI
   356 000003BD 5F                              	POP	EDI
   357 000003BE 5D                              	POP	EBP
   358 000003BF C3                              	RET
   359 000003C0                                 L47:
   360 000003C0 BF 0000001C                     	MOV	EDI,28
   361 000003C5                                 L58:
   362 000003C5 BE 00000008                     	MOV	ESI,8
   363 000003CA                                 L57:
   364 000003CA 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   365 000003CD 89 FA                           	MOV	EDX,EDI
   366 000003CF 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   367 000003D2 8B 18                           	MOV	EBX,DWORD [EAX]
   368 000003D4 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   369 000003D7 0F AF C1                        	IMUL	EAX,ECX
   370 000003DA 0F AF D1                        	IMUL	EDX,ECX
   371 000003DD 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   372 000003E0 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   373 000003E3 46                              	INC	ESI
   374 000003E4 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   375 000003E7 81 FE 000000F7                  	CMP	ESI,247
   376 000003ED 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   377 000003F0 7E D8                           	JLE	L57
   378 000003F2 47                              	INC	EDI
   379 000003F3 81 FF 0000008B                  	CMP	EDI,139
   380 000003F9 7E CA                           	JLE	L58
   381 000003FB BF 0000008C                     	MOV	EDI,140
   382 00000400                                 L68:
   383 00000400 BE 00000008                     	MOV	ESI,8
   384 00000405                                 L67:
   385 00000405 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   386 00000408 89 F8                           	MOV	EAX,EDI
   387 0000040A 89 D1                           	MOV	ECX,EDX
   388 0000040C 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   389 00000410 8B 12                           	MOV	EDX,DWORD [EDX]
   390 00000412 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   391 00000415 46                              	INC	ESI
   392 00000416 81 FE 000000F7                  	CMP	ESI,247
   393 0000041C C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   394 00000420 7E E3                           	JLE	L67
   395 00000422 47                              	INC	EDI
   396 00000423 81 FF 0000009B                  	CMP	EDI,155
   397 00000429 7E D5                           	JLE	L68
   398 0000042B 68 0000009C                     	PUSH	156
   399 00000430 68 000000F8                     	PUSH	248
   400 00000435 6A 1C                           	PUSH	28
   401 00000437 6A 08                           	PUSH	8
   402 00000439 51                              	PUSH	ECX
   403 0000043A E8 [00000000]                   	CALL	_sheet_refresh
   404 0000043F 83 C4 14                        	ADD	ESP,20
   405 00000442 E9 FFFFFF67                     	JMP	L48
   406 00000447                                 	GLOBAL	_cons_putstr
   407 00000447                                 _cons_putstr:
   408 00000447 55                              	PUSH	EBP
   409 00000448 89 E5                           	MOV	EBP,ESP
   410 0000044A 56                              	PUSH	ESI
   411 0000044B 53                              	PUSH	EBX
   412 0000044C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   413 0000044F 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   414 00000452 80 3B 00                        	CMP	BYTE [EBX],0
   415 00000455 75 07                           	JNE	L82
   416 00000457                                 L84:
   417 00000457 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   418 0000045A 5B                              	POP	EBX
   419 0000045B 5E                              	POP	ESI
   420 0000045C 5D                              	POP	EBP
   421 0000045D C3                              	RET
   422 0000045E                                 L82:
   423 0000045E 6A 01                           	PUSH	1
   424 00000460 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   425 00000463 50                              	PUSH	EAX
   426 00000464 43                              	INC	EBX
   427 00000465 56                              	PUSH	ESI
   428 00000466 E8 FFFFFE7E                     	CALL	_cons_putchar
   429 0000046B 83 C4 0C                        	ADD	ESP,12
   430 0000046E 80 3B 00                        	CMP	BYTE [EBX],0
   431 00000471 75 EB                           	JNE	L82
   432 00000473 EB E2                           	JMP	L84
   433 00000475                                 	GLOBAL	_cons_putnstr
   434 00000475                                 _cons_putnstr:
   435 00000475 55                              	PUSH	EBP
   436 00000476 89 E5                           	MOV	EBP,ESP
   437 00000478 57                              	PUSH	EDI
   438 00000479 56                              	PUSH	ESI
   439 0000047A 53                              	PUSH	EBX
   440 0000047B 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   441 0000047E 31 DB                           	XOR	EBX,EBX
   442 00000480 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   443 00000483 39 F3                           	CMP	EBX,ESI
   444 00000485 7C 08                           	JL	L90
   445 00000487                                 L92:
   446 00000487 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   447 0000048A 5B                              	POP	EBX
   448 0000048B 5E                              	POP	ESI
   449 0000048C 5F                              	POP	EDI
   450 0000048D 5D                              	POP	EBP
   451 0000048E C3                              	RET
   452 0000048F                                 L90:
   453 0000048F 6A 01                           	PUSH	1
   454 00000491 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   455 00000495 50                              	PUSH	EAX
   456 00000496 43                              	INC	EBX
   457 00000497 FF 75 08                        	PUSH	DWORD [8+EBP]
   458 0000049A E8 FFFFFE4A                     	CALL	_cons_putchar
   459 0000049F 83 C4 0C                        	ADD	ESP,12
   460 000004A2 39 F3                           	CMP	EBX,ESI
   461 000004A4 7C E9                           	JL	L90
   462 000004A6 EB DF                           	JMP	L92
   463                                          [SECTION .data]
   464 00000002                                 LC1:
   465 00000002 6D 65 6D 00                     	DB	"mem",0x00
   466 00000006                                 LC2:
   467 00000006 63 6C 73 00                     	DB	"cls",0x00
   468 0000000A                                 LC3:
   469 0000000A 64 69 72 00                     	DB	"dir",0x00
   470 0000000E                                 LC4:
   471 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   472 00000014                                 LC5:
   473 00000014 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       0000001E 64 2E 0A 0A 00 
   474                                          [SECTION .text]
   475 000004A8                                 	GLOBAL	_cons_runcmd
   476 000004A8                                 _cons_runcmd:
   477 000004A8 55                              	PUSH	EBP
   478 000004A9 89 E5                           	MOV	EBP,ESP
   479 000004AB 57                              	PUSH	EDI
   480 000004AC 56                              	PUSH	ESI
   481 000004AD BF [00000002]                   	MOV	EDI,LC1
   482 000004B2 53                              	PUSH	EBX
   483 000004B3 83 EC 0C                        	SUB	ESP,12
   484 000004B6 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   485 000004B9 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   486 000004BC 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   487 000004BF 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   488 000004C2 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   489 000004C5 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   490 000004C8 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   491 000004CB 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   492 000004CE B8 00000004                     	MOV	EAX,4
   493 000004D3 FC                              	CLD
   494 000004D4 89 C1                           	MOV	ECX,EAX
   495 000004D6 F3                              	REPE
   496 000004D7 A6                              	CMPSB
   497 000004D8 0F 84 000000AD                  	JE	L104
   498 000004DE B8 00000004                     	MOV	EAX,4
   499 000004E3 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   500 000004E6 FC                              	CLD
   501 000004E7 BF [00000006]                   	MOV	EDI,LC2
   502 000004EC 89 C1                           	MOV	ECX,EAX
   503 000004EE F3                              	REPE
   504 000004EF A6                              	CMPSB
   505 000004F0 0F 84 00000089                  	JE	L105
   506 000004F6 B8 00000004                     	MOV	EAX,4
   507 000004FB 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   508 000004FE FC                              	CLD
   509 000004FF BF [0000000A]                   	MOV	EDI,LC3
   510 00000504 89 C1                           	MOV	ECX,EAX
   511 00000506 F3                              	REPE
   512 00000507 A6                              	CMPSB
   513 00000508 74 66                           	JE	L106
   514 0000050A B8 00000005                     	MOV	EAX,5
   515 0000050F 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   516 00000512 FC                              	CLD
   517 00000513 BF [0000000E]                   	MOV	EDI,LC4
   518 00000518 89 C1                           	MOV	ECX,EAX
   519 0000051A F3                              	REPE
   520 0000051B A6                              	CMPSB
   521 0000051C 74 37                           	JE	L107
   522 0000051E 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   523 00000521 80 38 00                        	CMP	BYTE [EAX],0
   524 00000524 75 08                           	JNE	L108
   525 00000526                                 L93:
   526 00000526 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   527 00000529 5B                              	POP	EBX
   528 0000052A 5E                              	POP	ESI
   529 0000052B 5F                              	POP	EDI
   530 0000052C 5D                              	POP	EBP
   531 0000052D C3                              	RET
   532 0000052E                                 L108:
   533 0000052E 50                              	PUSH	EAX
   534 0000052F FF 75 F0                        	PUSH	DWORD [-16+EBP]
   535 00000532 53                              	PUSH	EBX
   536 00000533 E8 000002FC                     	CALL	_cmd_app
   537 00000538 83 C4 0C                        	ADD	ESP,12
   538 0000053B 85 C0                           	TEST	EAX,EAX
   539 0000053D 75 E7                           	JNE	L93
   540 0000053F C7 45 0C [00000014]             	MOV	DWORD [12+EBP],LC5
   541 00000546 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   542 00000549 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   543 0000054C 5B                              	POP	EBX
   544 0000054D 5E                              	POP	ESI
   545 0000054E 5F                              	POP	EDI
   546 0000054F 5D                              	POP	EBP
   547 00000550 E9 FFFFFEF2                     	JMP	_cons_putstr
   548 00000555                                 L107:
   549 00000555 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   550 00000558 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   551 0000055B 89 45 10                        	MOV	DWORD [16+EBP],EAX
   552 0000055E 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   553 00000561 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   554 00000564 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   555 00000567 5B                              	POP	EBX
   556 00000568 5E                              	POP	ESI
   557 00000569 5F                              	POP	EDI
   558 0000056A 5D                              	POP	EBP
   559 0000056B E9 00000156                     	JMP	_cmd_type
   560 00000570                                 L106:
   561 00000570 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   562 00000573 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   563 00000576 5B                              	POP	EBX
   564 00000577 5E                              	POP	ESI
   565 00000578 5F                              	POP	EDI
   566 00000579 5D                              	POP	EBP
   567 0000057A E9 000000B1                     	JMP	_cmd_dir
   568 0000057F                                 L105:
   569 0000057F 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   570 00000582 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   571 00000585 5B                              	POP	EBX
   572 00000586 5E                              	POP	ESI
   573 00000587 5F                              	POP	EDI
   574 00000588 5D                              	POP	EBP
   575 00000589 EB 4C                           	JMP	_cmd_cls
   576 0000058B                                 L104:
   577 0000058B 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   578 0000058E 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   579 00000591 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   580 00000594 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   581 00000597 5B                              	POP	EBX
   582 00000598 5E                              	POP	ESI
   583 00000599 5F                              	POP	EDI
   584 0000059A 5D                              	POP	EBP
   585 0000059B EB 00                           	JMP	_cmd_mem
   586                                          [SECTION .data]
   587 00000023                                 LC6:
   588 00000023 74 6F 74 61 6C 20 25 64 4D 42   	DB	"total %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000002D 0A 66 72 65 65 20 25 64 4B 42 
       00000037 0A 0A 00 
   589                                          [SECTION .text]
   590 0000059D                                 	GLOBAL	_cmd_mem
   591 0000059D                                 _cmd_mem:
   592 0000059D 55                              	PUSH	EBP
   593 0000059E 89 E5                           	MOV	EBP,ESP
   594 000005A0 53                              	PUSH	EBX
   595 000005A1 83 EC 40                        	SUB	ESP,64
   596 000005A4 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   597 000005A7 C1 EB 14                        	SHR	EBX,20
   598 000005AA 68 003C0000                     	PUSH	3932160
   599 000005AF E8 [00000000]                   	CALL	_memman_total
   600 000005B4 C1 E8 0A                        	SHR	EAX,10
   601 000005B7 89 04 24                        	MOV	DWORD [ESP],EAX
   602 000005BA 53                              	PUSH	EBX
   603 000005BB 68 [00000023]                   	PUSH	LC6
   604 000005C0 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   605 000005C3 53                              	PUSH	EBX
   606 000005C4 E8 [00000000]                   	CALL	_sprintf
   607 000005C9 53                              	PUSH	EBX
   608 000005CA FF 75 08                        	PUSH	DWORD [8+EBP]
   609 000005CD E8 FFFFFE75                     	CALL	_cons_putstr
   610 000005D2 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   611 000005D5 C9                              	LEAVE
   612 000005D6 C3                              	RET
   613 000005D7                                 	GLOBAL	_cmd_cls
   614 000005D7                                 _cmd_cls:
   615 000005D7 55                              	PUSH	EBP
   616 000005D8 89 E5                           	MOV	EBP,ESP
   617 000005DA 57                              	PUSH	EDI
   618 000005DB 56                              	PUSH	ESI
   619 000005DC BE 0000001C                     	MOV	ESI,28
   620 000005E1 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   621 000005E4 53                              	PUSH	EBX
   622 000005E5 8B 1F                           	MOV	EBX,DWORD [EDI]
   623 000005E7                                 L120:
   624 000005E7 B9 00000008                     	MOV	ECX,8
   625 000005EC                                 L119:
   626 000005EC 89 F0                           	MOV	EAX,ESI
   627 000005EE 8B 13                           	MOV	EDX,DWORD [EBX]
   628 000005F0 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   629 000005F4 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   630 000005F7 41                              	INC	ECX
   631 000005F8 81 F9 000000F7                  	CMP	ECX,247
   632 000005FE C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   633 00000602 7E E8                           	JLE	L119
   634 00000604 46                              	INC	ESI
   635 00000605 81 FE 0000009B                  	CMP	ESI,155
   636 0000060B 7E DA                           	JLE	L120
   637 0000060D 68 0000009C                     	PUSH	156
   638 00000612 68 000000F8                     	PUSH	248
   639 00000617 6A 1C                           	PUSH	28
   640 00000619 6A 08                           	PUSH	8
   641 0000061B 53                              	PUSH	EBX
   642 0000061C E8 [00000000]                   	CALL	_sheet_refresh
   643 00000621 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   644 00000628 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   645 0000062B 5B                              	POP	EBX
   646 0000062C 5E                              	POP	ESI
   647 0000062D 5F                              	POP	EDI
   648 0000062E 5D                              	POP	EBP
   649 0000062F C3                              	RET
   650                                          [SECTION .data]
   651 0000003A                                 LC7:
   652 0000003A 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext %7d",0x0A,0x00
       00000044 78 74 20 25 37 64 0A 00 
   653                                          [SECTION .text]
   654 00000630                                 	GLOBAL	_cmd_dir
   655 00000630                                 _cmd_dir:
   656 00000630 55                              	PUSH	EBP
   657 00000631 89 E5                           	MOV	EBP,ESP
   658 00000633 57                              	PUSH	EDI
   659 00000634 56                              	PUSH	ESI
   660 00000635 31 F6                           	XOR	ESI,ESI
   661 00000637 53                              	PUSH	EBX
   662 00000638 31 DB                           	XOR	EBX,EBX
   663 0000063A 83 EC 20                        	SUB	ESP,32
   664 0000063D 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   665 00000640                                 L138:
   666 00000640 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   667 00000646 84 C0                           	TEST	AL,AL
   668 00000648 74 19                           	JE	L127
   669 0000064A 3C E5                           	CMP	AL,-27
   670 0000064C 74 09                           	JE	L128
   671 0000064E F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   672 00000655 74 1A                           	JE	L142
   673 00000657                                 L128:
   674 00000657 46                              	INC	ESI
   675 00000658 83 C3 20                        	ADD	EBX,32
   676 0000065B 81 FE 000000DF                  	CMP	ESI,223
   677 00000661 7E DD                           	JLE	L138
   678 00000663                                 L127:
   679 00000663 57                              	PUSH	EDI
   680 00000664 E8 FFFFFD23                     	CALL	_cons_newline
   681 00000669 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   682 0000066C 5B                              	POP	EBX
   683 0000066D 5E                              	POP	ESI
   684 0000066E 5F                              	POP	EDI
   685 0000066F 5D                              	POP	EBP
   686 00000670 C3                              	RET
   687 00000671                                 L142:
   688 00000671 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   689 00000677 68 [0000003A]                   	PUSH	LC7
   690 0000067C 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   691 0000067F 50                              	PUSH	EAX
   692 00000680 E8 [00000000]                   	CALL	_sprintf
   693 00000685 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   694 0000068B 31 C9                           	XOR	ECX,ECX
   695 0000068D 83 C4 0C                        	ADD	ESP,12
   696 00000690                                 L137:
   697 00000690 8A 02                           	MOV	AL,BYTE [EDX]
   698 00000692 42                              	INC	EDX
   699 00000693 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   700 00000697 41                              	INC	ECX
   701 00000698 83 F9 07                        	CMP	ECX,7
   702 0000069B 7E F3                           	JLE	L137
   703 0000069D 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   704 000006A3 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   705 000006A6 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   706 000006AC 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   707 000006AF 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   708 000006B5 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   709 000006B8 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   710 000006BB 50                              	PUSH	EAX
   711 000006BC 57                              	PUSH	EDI
   712 000006BD E8 FFFFFD85                     	CALL	_cons_putstr
   713 000006C2 58                              	POP	EAX
   714 000006C3 5A                              	POP	EDX
   715 000006C4 EB 91                           	JMP	L128
   716                                          [SECTION .data]
   717 0000004C                                 LC8:
   718 0000004C 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       00000056 6F 75 6E 64 2E 0A 00 
   719                                          [SECTION .text]
   720 000006C6                                 	GLOBAL	_cmd_type
   721 000006C6                                 _cmd_type:
   722 000006C6 55                              	PUSH	EBP
   723 000006C7 89 E5                           	MOV	EBP,ESP
   724 000006C9 57                              	PUSH	EDI
   725 000006CA 56                              	PUSH	ESI
   726 000006CB 53                              	PUSH	EBX
   727 000006CC 56                              	PUSH	ESI
   728 000006CD 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   729 000006D0 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
   730 000006D3 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   731 000006D6 68 000000E0                     	PUSH	224
   732 000006DB 68 00102600                     	PUSH	1058304
   733 000006E0 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   734 000006E3 83 C0 05                        	ADD	EAX,5
   735 000006E6 50                              	PUSH	EAX
   736 000006E7 E8 [00000000]                   	CALL	_file_search
   737 000006EC 83 C4 0C                        	ADD	ESP,12
   738 000006EF 89 C3                           	MOV	EBX,EAX
   739 000006F1 85 C0                           	TEST	EAX,EAX
   740 000006F3 74 76                           	JE	L144
   741 000006F5 FF 70 1C                        	PUSH	DWORD [28+EAX]
   742 000006F8 68 003C0000                     	PUSH	3932160
   743 000006FD E8 [00000000]                   	CALL	_memman_alloc_4k
   744 00000702 68 00103E00                     	PUSH	1064448
   745 00000707 56                              	PUSH	ESI
   746 00000708 89 C7                           	MOV	EDI,EAX
   747 0000070A 50                              	PUSH	EAX
   748 0000070B 31 F6                           	XOR	ESI,ESI
   749 0000070D FF 73 1C                        	PUSH	DWORD [28+EBX]
   750 00000710 0F B7 43 1A                     	MOVZX	EAX,WORD [26+EBX]
   751 00000714 50                              	PUSH	EAX
   752 00000715 E8 [00000000]                   	CALL	_file_loadfile
   753 0000071A FF 73 1C                        	PUSH	DWORD [28+EBX]
   754 0000071D 57                              	PUSH	EDI
   755 0000071E FF 75 F0                        	PUSH	DWORD [-16+EBP]
   756 00000721 E8 FFFFFD4F                     	CALL	_cons_putnstr
   757 00000726 83 C4 28                        	ADD	ESP,40
   758 00000729 3B 73 1C                        	CMP	ESI,DWORD [28+EBX]
   759 0000072C 72 23                           	JB	L149
   760 0000072E                                 L152:
   761 0000072E FF 73 1C                        	PUSH	DWORD [28+EBX]
   762 00000731 57                              	PUSH	EDI
   763 00000732 68 003C0000                     	PUSH	3932160
   764 00000737 E8 [00000000]                   	CALL	_memman_free_4k
   765 0000073C 83 C4 0C                        	ADD	ESP,12
   766 0000073F                                 L150:
   767 0000073F 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   768 00000742 89 45 08                        	MOV	DWORD [8+EBP],EAX
   769 00000745 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   770 00000748 5B                              	POP	EBX
   771 00000749 5E                              	POP	ESI
   772 0000074A 5F                              	POP	EDI
   773 0000074B 5D                              	POP	EBP
   774 0000074C E9 FFFFFC3B                     	JMP	_cons_newline
   775 00000751                                 L149:
   776 00000751 6A 01                           	PUSH	1
   777 00000753 0F BE 04 3E                     	MOVSX	EAX,BYTE [ESI+EDI*1]
   778 00000757 50                              	PUSH	EAX
   779 00000758 46                              	INC	ESI
   780 00000759 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   781 0000075C E8 FFFFFB88                     	CALL	_cons_putchar
   782 00000761 83 C4 0C                        	ADD	ESP,12
   783 00000764 3B 73 1C                        	CMP	ESI,DWORD [28+EBX]
   784 00000767 72 E8                           	JB	L149
   785 00000769 EB C3                           	JMP	L152
   786 0000076B                                 L144:
   787 0000076B 68 [0000004C]                   	PUSH	LC8
   788 00000770 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   789 00000773 E8 FFFFFCCF                     	CALL	_cons_putstr
   790 00000778 59                              	POP	ECX
   791 00000779 5B                              	POP	EBX
   792 0000077A EB C3                           	JMP	L150
   793                                          [SECTION .data]
   794 0000005D                                 LC9:
   795 0000005D 48 4C 54 2E 48 52 42 00         	DB	"HLT.HRB",0x00
   796 00000065                                 LC10:
   797 00000065 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x00
       0000006F 6F 75 6E 64 2E 00 
   798                                          [SECTION .text]
   799 0000077C                                 	GLOBAL	_cmd_hlt
   800 0000077C                                 _cmd_hlt:
   801 0000077C 55                              	PUSH	EBP
   802 0000077D 89 E5                           	MOV	EBP,ESP
   803 0000077F 57                              	PUSH	EDI
   804 00000780 56                              	PUSH	ESI
   805 00000781 53                              	PUSH	EBX
   806 00000782 57                              	PUSH	EDI
   807 00000783 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   808 00000786 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   809 00000789 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   810 0000078C 68 000000E0                     	PUSH	224
   811 00000791 68 00102600                     	PUSH	1058304
   812 00000796 68 [0000005D]                   	PUSH	LC9
   813 0000079B E8 [00000000]                   	CALL	_file_search
   814 000007A0 83 C4 0C                        	ADD	ESP,12
   815 000007A3 89 C6                           	MOV	ESI,EAX
   816 000007A5 85 C0                           	TEST	EAX,EAX
   817 000007A7 74 69                           	JE	L154
   818 000007A9 FF 70 1C                        	PUSH	DWORD [28+EAX]
   819 000007AC 68 003C0000                     	PUSH	3932160
   820 000007B1 E8 [00000000]                   	CALL	_memman_alloc_4k
   821 000007B6 68 00103E00                     	PUSH	1064448
   822 000007BB FF 75 F0                        	PUSH	DWORD [-16+EBP]
   823 000007BE 50                              	PUSH	EAX
   824 000007BF 89 C3                           	MOV	EBX,EAX
   825 000007C1 FF 76 1C                        	PUSH	DWORD [28+ESI]
   826 000007C4 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   827 000007C8 50                              	PUSH	EAX
   828 000007C9 E8 [00000000]                   	CALL	_file_loadfile
   829 000007CE 68 0000409A                     	PUSH	16538
   830 000007D3 53                              	PUSH	EBX
   831 000007D4 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
   832 000007D7 48                              	DEC	EAX
   833 000007D8 50                              	PUSH	EAX
   834 000007D9 68 00271F58                     	PUSH	2563928
   835 000007DE E8 [00000000]                   	CALL	_set_segmdesc
   836 000007E3 83 C4 2C                        	ADD	ESP,44
   837 000007E6 68 00001F58                     	PUSH	8024
   838 000007EB 6A 00                           	PUSH	0
   839 000007ED E8 [00000000]                   	CALL	_farcall
   840 000007F2 FF 76 1C                        	PUSH	DWORD [28+ESI]
   841 000007F5 53                              	PUSH	EBX
   842 000007F6 68 003C0000                     	PUSH	3932160
   843 000007FB E8 [00000000]                   	CALL	_memman_free_4k
   844 00000800 83 C4 14                        	ADD	ESP,20
   845 00000803                                 L155:
   846 00000803 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   847 00000806 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   848 00000809 5B                              	POP	EBX
   849 0000080A 5E                              	POP	ESI
   850 0000080B 5F                              	POP	EDI
   851 0000080C 5D                              	POP	EBP
   852 0000080D E9 FFFFFB7A                     	JMP	_cons_newline
   853 00000812                                 L154:
   854 00000812 6A 0F                           	PUSH	15
   855 00000814 68 [00000065]                   	PUSH	LC10
   856 00000819 6A 00                           	PUSH	0
   857 0000081B 6A 07                           	PUSH	7
   858 0000081D FF 77 08                        	PUSH	DWORD [8+EDI]
   859 00000820 6A 08                           	PUSH	8
   860 00000822 FF 37                           	PUSH	DWORD [EDI]
   861 00000824 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   862 00000829 57                              	PUSH	EDI
   863 0000082A E8 FFFFFB5D                     	CALL	_cons_newline
   864 0000082F 83 C4 20                        	ADD	ESP,32
   865 00000832 EB CF                           	JMP	L155
   866                                          [SECTION .data]
   867 00000075                                 LC11:
   868 00000075 48 61 72 69 00                  	DB	"Hari",0x00
   869 0000007A                                 LC12:
   870 0000007A 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000084 66 6F 72 6D 61 74 20 65 72 72 
       0000008E 6F 72 2E 0A 00 
   871                                          [SECTION .text]
   872 00000834                                 	GLOBAL	_cmd_app
   873 00000834                                 _cmd_app:
   874 00000834 55                              	PUSH	EBP
   875 00000835 89 E5                           	MOV	EBP,ESP
   876 00000837 57                              	PUSH	EDI
   877 00000838 56                              	PUSH	ESI
   878 00000839 53                              	PUSH	EBX
   879 0000083A 31 DB                           	XOR	EBX,EBX
   880 0000083C 83 EC 38                        	SUB	ESP,56
   881 0000083F 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   882 00000842 E8 [00000000]                   	CALL	_task_now
   883 00000847 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
   884 0000084A                                 L162:
   885 0000084A 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
   886 0000084D 3C 20                           	CMP	AL,32
   887 0000084F 7E 0A                           	JLE	L158
   888 00000851 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
   889 00000855 43                              	INC	EBX
   890 00000856 83 FB 0C                        	CMP	EBX,12
   891 00000859 7E EF                           	JLE	L162
   892 0000085B                                 L158:
   893 0000085B 68 000000E0                     	PUSH	224
   894 00000860 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   895 00000863 68 00102600                     	PUSH	1058304
   896 00000868 56                              	PUSH	ESI
   897 00000869 C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
   898 0000086E E8 [00000000]                   	CALL	_file_search
   899 00000873 83 C4 0C                        	ADD	ESP,12
   900 00000876 85 C0                           	TEST	EAX,EAX
   901 00000878 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
   902 0000087B 0F 84 0000012E                  	JE	L176
   903 00000881                                 L175:
   904 00000881 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
   905 00000884 FF 70 1C                        	PUSH	DWORD [28+EAX]
   906 00000887 68 003C0000                     	PUSH	3932160
   907 0000088C E8 [00000000]                   	CALL	_memman_alloc_4k
   908 00000891 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   909 00000894 68 00103E00                     	PUSH	1064448
   910 00000899 FF 75 0C                        	PUSH	DWORD [12+EBP]
   911 0000089C 50                              	PUSH	EAX
   912 0000089D 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
   913 000008A0 FF 72 1C                        	PUSH	DWORD [28+EDX]
   914 000008A3 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
   915 000008A7 50                              	PUSH	EAX
   916 000008A8 E8 [00000000]                   	CALL	_file_loadfile
   917 000008AD 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   918 000008B0 83 C4 1C                        	ADD	ESP,28
   919 000008B3 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
   920 000008B7 76 1F                           	JBE	L165
   921 000008B9 8B 75 BC                        	MOV	ESI,DWORD [-68+EBP]
   922 000008BC B8 [00000075]                   	MOV	EAX,LC11
   923 000008C1 FC                              	CLD
   924 000008C2 83 C6 04                        	ADD	ESI,4
   925 000008C5 B9 00000004                     	MOV	ECX,4
   926 000008CA 89 C7                           	MOV	EDI,EAX
   927 000008CC F3                              	REPE
   928 000008CD A6                              	CMPSB
   929 000008CE 75 08                           	JNE	L165
   930 000008D0 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
   931 000008D3 80 38 00                        	CMP	BYTE [EAX],0
   932 000008D6 74 37                           	JE	L177
   933 000008D8                                 L165:
   934 000008D8 68 [0000007A]                   	PUSH	LC12
   935 000008DD FF 75 08                        	PUSH	DWORD [8+EBP]
   936 000008E0 E8 FFFFFB62                     	CALL	_cons_putstr
   937 000008E5 58                              	POP	EAX
   938 000008E6 5A                              	POP	EDX
   939 000008E7                                 L171:
   940 000008E7 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
   941 000008EA FF 77 1C                        	PUSH	DWORD [28+EDI]
   942 000008ED FF 75 BC                        	PUSH	DWORD [-68+EBP]
   943 000008F0 68 003C0000                     	PUSH	3932160
   944 000008F5 E8 [00000000]                   	CALL	_memman_free_4k
   945 000008FA FF 75 08                        	PUSH	DWORD [8+EBP]
   946 000008FD E8 FFFFFA8A                     	CALL	_cons_newline
   947 00000902 B8 00000001                     	MOV	EAX,1
   948 00000907                                 L156:
   949 00000907 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   950 0000090A 5B                              	POP	EBX
   951 0000090B 5E                              	POP	ESI
   952 0000090C 5F                              	POP	EDI
   953 0000090D 5D                              	POP	EBP
   954 0000090E C3                              	RET
   955 0000090F                                 L177:
   956 0000090F 8B 10                           	MOV	EDX,DWORD [EAX]
   957 00000911 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
   958 00000914 8B 58 10                        	MOV	EBX,DWORD [16+EAX]
   959 00000917 89 55 C8                        	MOV	DWORD [-56+EBP],EDX
   960 0000091A 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
   961 0000091D 89 7D C4                        	MOV	DWORD [-60+EBP],EDI
   962 00000920 52                              	PUSH	EDX
   963 00000921 89 45 C0                        	MOV	DWORD [-64+EBP],EAX
   964 00000924 68 003C0000                     	PUSH	3932160
   965 00000929 E8 [00000000]                   	CALL	_memman_alloc_4k
   966 0000092E 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
   967 00000931 A3 00000FE8                     	MOV	DWORD [4072],EAX
   968 00000936 89 C6                           	MOV	ESI,EAX
   969 00000938 68 000040FA                     	PUSH	16634
   970 0000093D FF 75 BC                        	PUSH	DWORD [-68+EBP]
   971 00000940 8B 42 1C                        	MOV	EAX,DWORD [28+EDX]
   972 00000943 48                              	DEC	EAX
   973 00000944 50                              	PUSH	EAX
   974 00000945 68 00271F58                     	PUSH	2563928
   975 0000094A E8 [00000000]                   	CALL	_set_segmdesc
   976 0000094F 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
   977 00000952 68 000040F2                     	PUSH	16626
   978 00000957 48                              	DEC	EAX
   979 00000958 56                              	PUSH	ESI
   980 00000959 50                              	PUSH	EAX
   981 0000095A 68 00271F60                     	PUSH	2563936
   982 0000095F E8 [00000000]                   	CALL	_set_segmdesc
   983 00000964 83 C4 28                        	ADD	ESP,40
   984 00000967 85 DB                           	TEST	EBX,EBX
   985 00000969 7E 13                           	JLE	L174
   986 0000096B 8B 55 C0                        	MOV	EDX,DWORD [-64+EBP]
   987 0000096E 89 F9                           	MOV	ECX,EDI
   988 00000970 03 55 BC                        	ADD	EDX,DWORD [-68+EBP]
   989 00000973 01 F1                           	ADD	ECX,ESI
   990 00000975                                 L170:
   991 00000975 8A 02                           	MOV	AL,BYTE [EDX]
   992 00000977 42                              	INC	EDX
   993 00000978 88 01                           	MOV	BYTE [ECX],AL
   994 0000097A 41                              	INC	ECX
   995 0000097B 4B                              	DEC	EBX
   996 0000097C 75 F7                           	JNE	L170
   997 0000097E                                 L174:
   998 0000097E 8B 45 CC                        	MOV	EAX,DWORD [-52+EBP]
   999 00000981 83 C0 30                        	ADD	EAX,48
  1000 00000984 50                              	PUSH	EAX
  1001 00000985 68 00001F60                     	PUSH	8032
  1002 0000098A FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1003 0000098D 68 00001F58                     	PUSH	8024
  1004 00000992 6A 1B                           	PUSH	27
  1005 00000994 E8 [00000000]                   	CALL	_start_app
  1006 00000999 FF 75 C8                        	PUSH	DWORD [-56+EBP]
  1007 0000099C 56                              	PUSH	ESI
  1008 0000099D 68 003C0000                     	PUSH	3932160
  1009 000009A2 E8 [00000000]                   	CALL	_memman_free_4k
  1010 000009A7 83 C4 20                        	ADD	ESP,32
  1011 000009AA E9 FFFFFF38                     	JMP	L171
  1012 000009AF                                 L176:
  1013 000009AF 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
  1014 000009B4 74 2F                           	JE	L163
  1015 000009B6 68 000000E0                     	PUSH	224
  1016 000009BB 68 00102600                     	PUSH	1058304
  1017 000009C0 56                              	PUSH	ESI
  1018 000009C1 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
  1019 000009C6 C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
  1020 000009CB C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
  1021 000009D0 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
  1022 000009D5 C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
  1023 000009DA E8 [00000000]                   	CALL	_file_search
  1024 000009DF 83 C4 0C                        	ADD	ESP,12
  1025 000009E2 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1026 000009E5                                 L163:
  1027 000009E5 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
  1028 000009E9 0F 85 FFFFFE92                  	JNE	L175
  1029 000009EF 31 C0                           	XOR	EAX,EAX
  1030 000009F1 E9 FFFFFF11                     	JMP	L156
  1031 000009F6                                 	GLOBAL	_hrb_api_linewin
  1032 000009F6                                 _hrb_api_linewin:
  1033 000009F6 55                              	PUSH	EBP
  1034 000009F7 89 E5                           	MOV	EBP,ESP
  1035 000009F9 57                              	PUSH	EDI
  1036 000009FA 56                              	PUSH	ESI
  1037 000009FB 53                              	PUSH	EBX
  1038 000009FC 83 EC 0C                        	SUB	ESP,12
  1039 000009FF 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1040 00000A02 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1041 00000A05 89 D9                           	MOV	ECX,EBX
  1042 00000A07 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1043 00000A0A C1 E1 0A                        	SAL	ECX,10
  1044 00000A0D 89 D7                           	MOV	EDI,EDX
  1045 00000A0F 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1046 00000A12 89 C6                           	MOV	ESI,EAX
  1047 00000A14 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1048 00000A17 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1049 00000A1A C1 E1 0A                        	SAL	ECX,10
  1050 00000A1D 29 DE                           	SUB	ESI,EBX
  1051 00000A1F 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1052 00000A22 0F 88 000000A3                  	JS	L200
  1053 00000A28                                 L179:
  1054 00000A28 85 FF                           	TEST	EDI,EDI
  1055 00000A2A 0F 88 00000094                  	JS	L201
  1056 00000A30                                 L180:
  1057 00000A30 39 FE                           	CMP	ESI,EDI
  1058 00000A32 7C 62                           	JL	L181
  1059 00000A34 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1060 00000A37 39 C3                           	CMP	EBX,EAX
  1061 00000A39 BE FFFFFC00                     	MOV	ESI,-1024
  1062 00000A3E 7F 05                           	JG	L183
  1063 00000A40 BE 00000400                     	MOV	ESI,1024
  1064 00000A45                                 L183:
  1065 00000A45 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1066 00000A48 7F 46                           	JG	L184
  1067 00000A4A 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1068 00000A4D 42                              	INC	EDX
  1069 00000A4E                                 L199:
  1070 00000A4E C1 E2 0A                        	SAL	EDX,10
  1071 00000A51 89 D0                           	MOV	EAX,EDX
  1072 00000A53 99                              	CDQ
  1073 00000A54 F7 F9                           	IDIV	ECX
  1074 00000A56 89 C7                           	MOV	EDI,EAX
  1075 00000A58                                 L186:
  1076 00000A58 85 C9                           	TEST	ECX,ECX
  1077 00000A5A 7E 2C                           	JLE	L197
  1078 00000A5C 89 CB                           	MOV	EBX,ECX
  1079 00000A5E                                 L195:
  1080 00000A5E 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1081 00000A61 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1082 00000A64 C1 F8 0A                        	SAR	EAX,10
  1083 00000A67 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1084 00000A6A 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1085 00000A6E C1 F9 0A                        	SAR	ECX,10
  1086 00000A71 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1087 00000A74 8B 0A                           	MOV	ECX,DWORD [EDX]
  1088 00000A76 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1089 00000A79 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1090 00000A7C 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1091 00000A7F 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1092 00000A82 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1093 00000A85 4B                              	DEC	EBX
  1094 00000A86 75 D6                           	JNE	L195
  1095 00000A88                                 L197:
  1096 00000A88 83 C4 0C                        	ADD	ESP,12
  1097 00000A8B 5B                              	POP	EBX
  1098 00000A8C 5E                              	POP	ESI
  1099 00000A8D 5F                              	POP	EDI
  1100 00000A8E 5D                              	POP	EBP
  1101 00000A8F C3                              	RET
  1102 00000A90                                 L184:
  1103 00000A90 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1104 00000A93 4A                              	DEC	EDX
  1105 00000A94 EB B8                           	JMP	L199
  1106 00000A96                                 L181:
  1107 00000A96 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1108 00000A99 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1109 00000A9C BF FFFFFC00                     	MOV	EDI,-1024
  1110 00000AA1 7F 05                           	JG	L188
  1111 00000AA3 BF 00000400                     	MOV	EDI,1024
  1112 00000AA8                                 L188:
  1113 00000AA8 39 C3                           	CMP	EBX,EAX
  1114 00000AAA 7F 11                           	JG	L189
  1115 00000AAC 29 D8                           	SUB	EAX,EBX
  1116 00000AAE 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1117 00000AB1                                 L198:
  1118 00000AB1 C1 E2 0A                        	SAL	EDX,10
  1119 00000AB4 89 D0                           	MOV	EAX,EDX
  1120 00000AB6 99                              	CDQ
  1121 00000AB7 F7 F9                           	IDIV	ECX
  1122 00000AB9 89 C6                           	MOV	ESI,EAX
  1123 00000ABB EB 9B                           	JMP	L186
  1124 00000ABD                                 L189:
  1125 00000ABD 29 D8                           	SUB	EAX,EBX
  1126 00000ABF 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1127 00000AC2 EB ED                           	JMP	L198
  1128 00000AC4                                 L201:
  1129 00000AC4 F7 DF                           	NEG	EDI
  1130 00000AC6 E9 FFFFFF65                     	JMP	L180
  1131 00000ACB                                 L200:
  1132 00000ACB F7 DE                           	NEG	ESI
  1133 00000ACD E9 FFFFFF56                     	JMP	L179
  1134 00000AD2                                 	GLOBAL	_hrb_api
  1135 00000AD2                                 _hrb_api:
  1136 00000AD2 55                              	PUSH	EBP
  1137 00000AD3 89 E5                           	MOV	EBP,ESP
  1138 00000AD5 57                              	PUSH	EDI
  1139 00000AD6 56                              	PUSH	ESI
  1140 00000AD7 53                              	PUSH	EBX
  1141 00000AD8 8B 75 1C                        	MOV	ESI,DWORD [28+EBP]
  1142 00000ADB 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1143 00000ADE 8B 3D 00000FE8                  	MOV	EDI,DWORD [4072]
  1144 00000AE4 E8 [00000000]                   	CALL	_task_now
  1145 00000AE9 83 FE 01                        	CMP	ESI,1
  1146 00000AEC 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
  1147 00000AF2 8B 0D 00000FE4                  	MOV	ECX,DWORD [4068]
  1148 00000AF8 0F 84 0000022F                  	JE	L241
  1149 00000AFE 83 FE 02                        	CMP	ESI,2
  1150 00000B01 0F 84 00000217                  	JE	L242
  1151 00000B07 83 FE 03                        	CMP	ESI,3
  1152 00000B0A 0F 84 000001FC                  	JE	L243
  1153 00000B10 83 FE 04                        	CMP	ESI,4
  1154 00000B13 0F 84 000001EB                  	JE	L244
  1155 00000B19 83 FE 05                        	CMP	ESI,5
  1156 00000B1C 0F 84 00000197                  	JE	L245
  1157 00000B22 83 FE 06                        	CMP	ESI,6
  1158 00000B25 0F 84 00000148                  	JE	L246
  1159 00000B2B 83 FE 07                        	CMP	ESI,7
  1160 00000B2E 0F 84 00000117                  	JE	L247
  1161 00000B34 83 FE 08                        	CMP	ESI,8
  1162 00000B37 0F 84 000000EE                  	JE	L248
  1163 00000B3D 83 FE 09                        	CMP	ESI,9
  1164 00000B40 0F 84 000000C8                  	JE	L249
  1165 00000B46 83 FE 0A                        	CMP	ESI,10
  1166 00000B49 0F 84 000000A1                  	JE	L250
  1167 00000B4F 83 FE 0B                        	CMP	ESI,11
  1168 00000B52 74 6E                           	JE	L251
  1169 00000B54 83 FE 0C                        	CMP	ESI,12
  1170 00000B57 74 5A                           	JE	L252
  1171 00000B59 83 FE 0D                        	CMP	ESI,13
  1172 00000B5C 74 18                           	JE	L253
  1173 00000B5E 83 FE 0E                        	CMP	ESI,14
  1174 00000B61 74 0A                           	JE	L254
  1175 00000B63                                 L204:
  1176 00000B63 31 C0                           	XOR	EAX,EAX
  1177 00000B65                                 L202:
  1178 00000B65 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1179 00000B68 5B                              	POP	EBX
  1180 00000B69 5E                              	POP	ESI
  1181 00000B6A 5F                              	POP	EDI
  1182 00000B6B 5D                              	POP	EBP
  1183 00000B6C C3                              	RET
  1184 00000B6D                                 L254:
  1185 00000B6D 53                              	PUSH	EBX
  1186 00000B6E E8 [00000000]                   	CALL	_sheet_free
  1187 00000B73 59                              	POP	ECX
  1188 00000B74 EB ED                           	JMP	L204
  1189 00000B76                                 L253:
  1190 00000B76 FF 75 10                        	PUSH	DWORD [16+EBP]
  1191 00000B79 FF 75 08                        	PUSH	DWORD [8+EBP]
  1192 00000B7C FF 75 0C                        	PUSH	DWORD [12+EBP]
  1193 00000B7F FF 75 20                        	PUSH	DWORD [32+EBP]
  1194 00000B82 89 DE                           	MOV	ESI,EBX
  1195 00000B84 FF 75 24                        	PUSH	DWORD [36+EBP]
  1196 00000B87 83 E6 FE                        	AND	ESI,-2
  1197 00000B8A 56                              	PUSH	ESI
  1198 00000B8B E8 FFFFFE66                     	CALL	_hrb_api_linewin
  1199 00000B90 83 C4 18                        	ADD	ESP,24
  1200 00000B93                                 L240:
  1201 00000B93 83 E3 01                        	AND	EBX,1
  1202 00000B96 75 CB                           	JNE	L204
  1203 00000B98 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1204 00000B9B 40                              	INC	EAX
  1205 00000B9C 50                              	PUSH	EAX
  1206 00000B9D 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1207 00000BA0 40                              	INC	EAX
  1208 00000BA1 50                              	PUSH	EAX
  1209 00000BA2 FF 75 20                        	PUSH	DWORD [32+EBP]
  1210 00000BA5 FF 75 24                        	PUSH	DWORD [36+EBP]
  1211 00000BA8                                 L238:
  1212 00000BA8 56                              	PUSH	ESI
  1213 00000BA9                                 L234:
  1214 00000BA9 E8 [00000000]                   	CALL	_sheet_refresh
  1215 00000BAE                                 L235:
  1216 00000BAE 83 C4 14                        	ADD	ESP,20
  1217 00000BB1 EB B0                           	JMP	L204
  1218 00000BB3                                 L252:
  1219 00000BB3 FF 75 08                        	PUSH	DWORD [8+EBP]
  1220 00000BB6 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1221 00000BB9 FF 75 20                        	PUSH	DWORD [32+EBP]
  1222 00000BBC FF 75 24                        	PUSH	DWORD [36+EBP]
  1223 00000BBF 53                              	PUSH	EBX
  1224 00000BC0 EB E7                           	JMP	L234
  1225 00000BC2                                 L251:
  1226 00000BC2 89 DE                           	MOV	ESI,EBX
  1227 00000BC4 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1228 00000BC7 83 E6 FE                        	AND	ESI,-2
  1229 00000BCA 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1230 00000BCD 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1231 00000BD1 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1232 00000BD4 8B 0E                           	MOV	ECX,DWORD [ESI]
  1233 00000BD6 83 E3 01                        	AND	EBX,1
  1234 00000BD9 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1235 00000BDC 75 85                           	JNE	L204
  1236 00000BDE 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1237 00000BE1 40                              	INC	EAX
  1238 00000BE2 50                              	PUSH	EAX
  1239 00000BE3 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1240 00000BE6 40                              	INC	EAX
  1241 00000BE7 50                              	PUSH	EAX
  1242 00000BE8 FF 75 08                        	PUSH	DWORD [8+EBP]
  1243 00000BEB FF 75 0C                        	PUSH	DWORD [12+EBP]
  1244 00000BEE EB B8                           	JMP	L238
  1245 00000BF0                                 L250:
  1246 00000BF0 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1247 00000BF3 83 C0 0F                        	ADD	EAX,15
  1248 00000BF6 83 E0 F0                        	AND	EAX,-16
  1249 00000BF9 50                              	PUSH	EAX
  1250 00000BFA 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1251 00000BFD FF 75 24                        	PUSH	DWORD [36+EBP]
  1252 00000C00 50                              	PUSH	EAX
  1253 00000C01 E8 [00000000]                   	CALL	_memman_free
  1254 00000C06                                 L236:
  1255 00000C06 83 C4 0C                        	ADD	ESP,12
  1256 00000C09 E9 FFFFFF55                     	JMP	L204
  1257 00000C0E                                 L249:
  1258 00000C0E 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1259 00000C11 83 C0 0F                        	ADD	EAX,15
  1260 00000C14 83 E0 F0                        	AND	EAX,-16
  1261 00000C17 50                              	PUSH	EAX
  1262 00000C18 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1263 00000C1B 50                              	PUSH	EAX
  1264 00000C1C E8 [00000000]                   	CALL	_memman_alloc
  1265 00000C21 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1266 00000C24                                 L237:
  1267 00000C24 5B                              	POP	EBX
  1268 00000C25 5E                              	POP	ESI
  1269 00000C26 E9 FFFFFF38                     	JMP	L204
  1270 00000C2B                                 L248:
  1271 00000C2B 01 FB                           	ADD	EBX,EDI
  1272 00000C2D 53                              	PUSH	EBX
  1273 00000C2E E8 [00000000]                   	CALL	_memman_init
  1274 00000C33 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1275 00000C37 FF 75 20                        	PUSH	DWORD [32+EBP]
  1276 00000C3A FF 75 24                        	PUSH	DWORD [36+EBP]
  1277 00000C3D 53                              	PUSH	EBX
  1278 00000C3E E8 [00000000]                   	CALL	_memman_free
  1279 00000C43 83 C4 10                        	ADD	ESP,16
  1280 00000C46 E9 FFFFFF18                     	JMP	L204
  1281 00000C4B                                 L247:
  1282 00000C4B FF 75 08                        	PUSH	DWORD [8+EBP]
  1283 00000C4E FF 75 0C                        	PUSH	DWORD [12+EBP]
  1284 00000C51 FF 75 20                        	PUSH	DWORD [32+EBP]
  1285 00000C54 89 DE                           	MOV	ESI,EBX
  1286 00000C56 FF 75 24                        	PUSH	DWORD [36+EBP]
  1287 00000C59 83 E6 FE                        	AND	ESI,-2
  1288 00000C5C 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1289 00000C60 50                              	PUSH	EAX
  1290 00000C61 FF 76 04                        	PUSH	DWORD [4+ESI]
  1291 00000C64 FF 36                           	PUSH	DWORD [ESI]
  1292 00000C66 E8 [00000000]                   	CALL	_boxfill8
  1293 00000C6B 83 C4 1C                        	ADD	ESP,28
  1294 00000C6E E9 FFFFFF20                     	JMP	L240
  1295 00000C73                                 L246:
  1296 00000C73 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1297 00000C76 89 DE                           	MOV	ESI,EBX
  1298 00000C78 01 F8                           	ADD	EAX,EDI
  1299 00000C7A 83 E6 FE                        	AND	ESI,-2
  1300 00000C7D 50                              	PUSH	EAX
  1301 00000C7E 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1302 00000C82 50                              	PUSH	EAX
  1303 00000C83 FF 75 08                        	PUSH	DWORD [8+EBP]
  1304 00000C86 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1305 00000C89 FF 76 04                        	PUSH	DWORD [4+ESI]
  1306 00000C8C FF 36                           	PUSH	DWORD [ESI]
  1307 00000C8E E8 [00000000]                   	CALL	_putfonts8_asc
  1308 00000C93 83 C4 18                        	ADD	ESP,24
  1309 00000C96 83 E3 01                        	AND	EBX,1
  1310 00000C99 0F 85 FFFFFEC4                  	JNE	L204
  1311 00000C9F 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1312 00000CA2 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1313 00000CA5 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1314 00000CA8 83 C0 10                        	ADD	EAX,16
  1315 00000CAB 50                              	PUSH	EAX
  1316 00000CAC 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1317 00000CAF 50                              	PUSH	EAX
  1318 00000CB0 FF 75 08                        	PUSH	DWORD [8+EBP]
  1319 00000CB3 51                              	PUSH	ECX
  1320 00000CB4 E9 FFFFFEEF                     	JMP	L238
  1321 00000CB9                                 L245:
  1322 00000CB9 51                              	PUSH	ECX
  1323 00000CBA 01 FB                           	ADD	EBX,EDI
  1324 00000CBC E8 [00000000]                   	CALL	_sheet_alloc
  1325 00000CC1 FF 75 24                        	PUSH	DWORD [36+EBP]
  1326 00000CC4 FF 75 08                        	PUSH	DWORD [8+EBP]
  1327 00000CC7 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1328 00000CCA 53                              	PUSH	EBX
  1329 00000CCB 89 C6                           	MOV	ESI,EAX
  1330 00000CCD 50                              	PUSH	EAX
  1331 00000CCE E8 [00000000]                   	CALL	_sheet_setbuf
  1332 00000CD3 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1333 00000CD6 6A 00                           	PUSH	0
  1334 00000CD8 01 F8                           	ADD	EAX,EDI
  1335 00000CDA 50                              	PUSH	EAX
  1336 00000CDB FF 75 08                        	PUSH	DWORD [8+EBP]
  1337 00000CDE FF 75 0C                        	PUSH	DWORD [12+EBP]
  1338 00000CE1 53                              	PUSH	EBX
  1339 00000CE2 E8 [00000000]                   	CALL	_make_window8
  1340 00000CE7 83 C4 2C                        	ADD	ESP,44
  1341 00000CEA 6A 32                           	PUSH	50
  1342 00000CEC 6A 64                           	PUSH	100
  1343 00000CEE 56                              	PUSH	ESI
  1344 00000CEF E8 [00000000]                   	CALL	_sheet_slide
  1345 00000CF4 6A 04                           	PUSH	4
  1346 00000CF6 56                              	PUSH	ESI
  1347 00000CF7 E8 [00000000]                   	CALL	_sheet_updown
  1348 00000CFC 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1349 00000CFF E9 FFFFFEAA                     	JMP	L235
  1350 00000D04                                 L244:
  1351 00000D04 83 C0 30                        	ADD	EAX,48
  1352 00000D07 E9 FFFFFE59                     	JMP	L202
  1353 00000D0C                                 L243:
  1354 00000D0C FF 75 20                        	PUSH	DWORD [32+EBP]
  1355 00000D0F 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1356 00000D12 50                              	PUSH	EAX
  1357 00000D13 52                              	PUSH	EDX
  1358 00000D14 E8 FFFFF75C                     	CALL	_cons_putnstr
  1359 00000D19 E9 FFFFFEE8                     	JMP	L236
  1360 00000D1E                                 L242:
  1361 00000D1E 8D 04 1F                        	LEA	EAX,DWORD [EDI+EBX*1]
  1362 00000D21 50                              	PUSH	EAX
  1363 00000D22 52                              	PUSH	EDX
  1364 00000D23 E8 FFFFF71F                     	CALL	_cons_putstr
  1365 00000D28 E9 FFFFFEF7                     	JMP	L237
  1366 00000D2D                                 L241:
  1367 00000D2D 6A 01                           	PUSH	1
  1368 00000D2F 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1369 00000D33 50                              	PUSH	EAX
  1370 00000D34 52                              	PUSH	EDX
  1371 00000D35 E8 FFFFF5AF                     	CALL	_cons_putchar
  1372 00000D3A E9 FFFFFEC7                     	JMP	L236
  1373                                          [SECTION .data]
  1374 00000093                                 LC13:
  1375 00000093 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       0000009D 20 47 65 6E 65 72 61 6C 20 50 
       000000A7 72 6F 74 65 63 74 65 64 20 45 
       000000B1 78 63 65 70 74 69 6F 6E 2E 0A 
       000000BB 00 
  1376 000000BC                                 LC14:
  1377 000000BC 45 49 50 3D 25 30 38 58 0A 00   	DB	"EIP=%08X",0x0A,0x00
  1378                                          [SECTION .text]
  1379 00000D3F                                 	GLOBAL	_inthandler0d
  1380 00000D3F                                 _inthandler0d:
  1381 00000D3F 55                              	PUSH	EBP
  1382 00000D40 89 E5                           	MOV	EBP,ESP
  1383 00000D42 57                              	PUSH	EDI
  1384 00000D43 56                              	PUSH	ESI
  1385 00000D44 53                              	PUSH	EBX
  1386 00000D45 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1387 00000D48 83 EC 20                        	SUB	ESP,32
  1388 00000D4B 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1389 00000D51 E8 [00000000]                   	CALL	_task_now
  1390 00000D56 68 [00000093]                   	PUSH	LC13
  1391 00000D5B 89 C6                           	MOV	ESI,EAX
  1392 00000D5D 57                              	PUSH	EDI
  1393 00000D5E 83 C6 30                        	ADD	ESI,48
  1394 00000D61 E8 FFFFF6E1                     	CALL	_cons_putstr
  1395 00000D66 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1396 00000D69 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1397 00000D6C 68 [000000BC]                   	PUSH	LC14
  1398 00000D71 53                              	PUSH	EBX
  1399 00000D72 E8 [00000000]                   	CALL	_sprintf
  1400 00000D77 53                              	PUSH	EBX
  1401 00000D78 57                              	PUSH	EDI
  1402 00000D79 E8 FFFFF6C9                     	CALL	_cons_putstr
  1403 00000D7E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1404 00000D81 5B                              	POP	EBX
  1405 00000D82 89 F0                           	MOV	EAX,ESI
  1406 00000D84 5E                              	POP	ESI
  1407 00000D85 5F                              	POP	EDI
  1408 00000D86 5D                              	POP	EBP
  1409 00000D87 C3                              	RET
  1410                                          [SECTION .data]
  1411 000000C6                                 LC15:
  1412 000000C6 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," Stack Exception.",0x0A,0x00
       000000D0 20 53 74 61 63 6B 20 45 78 63 
       000000DA 65 70 74 69 6F 6E 2E 0A 00 
  1413                                          [SECTION .text]
  1414 00000D88                                 	GLOBAL	_inthandler0c
  1415 00000D88                                 _inthandler0c:
  1416 00000D88 55                              	PUSH	EBP
  1417 00000D89 89 E5                           	MOV	EBP,ESP
  1418 00000D8B 57                              	PUSH	EDI
  1419 00000D8C 56                              	PUSH	ESI
  1420 00000D8D 53                              	PUSH	EBX
  1421 00000D8E 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1422 00000D91 83 EC 20                        	SUB	ESP,32
  1423 00000D94 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
  1424 00000D9A E8 [00000000]                   	CALL	_task_now
  1425 00000D9F 68 [000000C6]                   	PUSH	LC15
  1426 00000DA4 89 C6                           	MOV	ESI,EAX
  1427 00000DA6 57                              	PUSH	EDI
  1428 00000DA7 83 C6 30                        	ADD	ESI,48
  1429 00000DAA E8 FFFFF698                     	CALL	_cons_putstr
  1430 00000DAF 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1431 00000DB2 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1432 00000DB5 68 [000000BC]                   	PUSH	LC14
  1433 00000DBA 53                              	PUSH	EBX
  1434 00000DBB E8 [00000000]                   	CALL	_sprintf
  1435 00000DC0 53                              	PUSH	EBX
  1436 00000DC1 57                              	PUSH	EDI
  1437 00000DC2 E8 FFFFF680                     	CALL	_cons_putstr
  1438 00000DC7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1439 00000DCA 5B                              	POP	EBX
  1440 00000DCB 89 F0                           	MOV	EAX,ESI
  1441 00000DCD 5E                              	POP	ESI
  1442 00000DCE 5F                              	POP	EDI
  1443 00000DCF 5D                              	POP	EBP
  1444 00000DD0 C3                              	RET
